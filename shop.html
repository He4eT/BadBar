<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no">

    <meta property="og:title" content="BADBAR" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://he4et.github.io/BadBar/" />
    <meta property="og:image" content="https://he4et.github.io/BadBar/img/preview.png" />

    <link rel="shortcut icon" href="./img/favicon.ico" type="image/x-icon" />

    <title>
      BADBAR
    </title>
    <meta name="description" content="GOOD Mерч by BAD Бар for Кэмп U 2024">

    <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap');

    html, body {
      margin: 0;
      padding: 0;
      font-family: "Roboto", sans-serif;
      font-weight: 300;
      font-style: normal;
      font-size: 30px;
      line-height: 1.5;
      text-transform: uppercase;
      scroll-behavior: smooth;

      --padding: 32px;
      --width: 800px;
      --step: 1vh;
    }
    @media (orientation: landscape) {
      body {
	--step: 1vh;
      }
    }

    @media (orientation: portrait) {
      body {
	--step: 8px;
      }
    }

    a {
      color: inherit;
    }

    main {
      box-sizing: border-box;
    }

    .announcement {
      padding: var(--padding);
    }

    .disclamer {
      padding: var(--padding);
      max-width: var(--width);
    }

    .stripes {
      overflow-x: clip;
    }

    .stripe {
      height: calc(20 * var(--step));
      box-shadow: 0px 0px 8px rgba(0,0,0,0.2);
      background-color: #ffffff;
      background-image: url(./img/badbar-wide.svg);
      background-repeat: repeat-x;
      background-size: auto 50%;
      background-position: right 50% center;

      position: relative;
      margin-left: -30vw;
      width: 160vw;
      transform-origin: center;
    }

    .item-card {
      padding: var(--padding);
      margin: calc(16 * var(--step)) 0 calc(8 * var(--step));
    }

    .item-images {
      display: flex;
      flex-direction: row;
      overflow-x: scroll;
      height: calc(70 * var(--step));

      scrollbar-color: transparent transparent;
      scrollbar-width: thin;

      padding: 0 var(--padding);
      margin: 0 calc(-1 * var(--padding));
    }

    .item-images img {
      height: 100%;
    }

    .item-name {
      font: inherit;
      margin-bottom: inherit;
    }

    .item-description {
      text-transform: none;
    }

    iframe {
      width: 100%;
      max-width: 750px;
      height: 2500px;
      margin-top: calc(8 * var(--step));
      scroll-margin: calc(10 * var(--step));
    }
    </style>
  </head>
  <body>
    <main>
      <div class="announcement">
	До конца предзаказа осталось
	<span class="countdown">
	  00:00:00:00
	</span>
      </div>

      <div class="stripes" style="
	position: sticky;
	top: calc(-20 * var(--step));
	z-index: 100;
	padding-top: calc(8 * var(--step));
	padding-bottom: calc(12 * var(--step));
	">
	<div class="stripe" style="
	  transform: rotate(-4deg);
	  margin-bottom: calc(-16 * var(--step))
	  ">
	</div>
	<div class="stripe" style="
	  transform: rotate(3deg);
	  ">
	</div>
      </div>

      <div class="disclamer">
	Привет, это команда BADБАР!
	<br>
	Мы самостоятельная движуха с&nbsp;бесплатным баром для друзей, которая существует на&nbsp;наши айтишные зарплаты и&nbsp;нам это нравится.
	<br>
	<br>
	Поэтому, если хотите нас поддержать&nbsp;&mdash; купите наш мерч.
      </div>

      <section>
	<article class="item-card">
	  <div class="item-images">
	    <img src="./img/photos/sweater_2.jpg" alt="Свитер с собаками в приятных цветах" draggable="false">
	    <img src="./img/photos/sweater_4.jpg" alt="Свитер с собаками в приятных цветах" draggable="false">
	    <img src="./img/photos/sweater_5.jpg" alt="Свитер с собаками в приятных цветах" draggable="false">
	    <img src="./img/photos/sweater_3.jpg" alt="Свитер с собаками в приятных цветах" draggable="false">
	    <img src="./img/photos/sweater_1.png" alt="Свитер с собаками в приятных цветах" draggable="false">
	    <img src="./img/photos/sweater_6.jpg" alt="Свитер с собаками в приятных цветах" draggable="false">
	  </div>
	  <div class="item-details">
	    <h2 class="item-name">
	      Свитер
	    </h2>
	    <p class="item-description">
	      Наша ода грузинским псам.
	      <br>
	      Плотной вязки. Тёплый.
	      <br>
	      Нетипичный для нас цвет, но&nbsp;очень нравится!
	      <br>
	      <a target="_blank" href="https://t.me/didjulek">Лясе</a> спасибо за&nbsp;дизайн ❤️
	    </p>
	    <p class="item-details">
	      Материал: 50% шерсть&nbsp;/ 50% акрил <br>
	      Размер: oversize, ближе к&nbsp;XXL
	    </p>
	    <p class="item-price">
	      10 000 ₽ <a href="#buy">Купить</a>
	    </p>
	  </div>
	</article>

	<div class="stripes">
	  <div class="stripe" style="
	    transform: rotate(-1deg);
	    ">
	  </div>
	</div>

	<article class="item-card">
	  <div class="item-images">
	    <img src="./img/photos/balaclava_1.jpg" alt="Балаклава с вышивкой" draggable="false">
	    <img src="./img/photos/balaclava_2.jpg" alt="Балаклава с вышивкой" draggable="false">
	  </div>
	  <div class="item-details">
	    <h2 class="item-name">
	      Балаклава
	    </h2>
	    <p class="item-description">
	      Теперь всё на&nbsp;лице будет написано.
	      <br>
	      Только чёрный цвет. Ручная вышивка, на&nbsp;фото макеты.
	      <br>
	      Сворачивается в&nbsp;шапку, можно вытянуть ушки.
	      <br>
	      На&nbsp;баре можно взять подвески для костомизации.
	    </p>
	    <p class="item-details">
	      Материал: шерсть&nbsp;/ акрил <br>
	      Размер: onesize <br>
	    </p>
	    <p class="item-price">
	      2 500 ₽ <a href="#buy">Купить</a>
	    </p>
	  </div>
	</article>

	<div class="stripes">
	  <div class="stripe" style="
	    transform: rotate(-1deg);
	    ">
	  </div>
	</div>

	<article class="item-card">
	  <div class="item-images">
	    <img src="./img/photos/blanket.png" alt="Крайне уютный плед" draggable="false">
	  </div>
	  <div class="item-details">
	    <h2 class="item-name">
	      Плед
	    </h2>
	    <p class="item-description">
	      თბილი значит тёплый.
	      <br>
	      Большой и&nbsp;мягкий, из&nbsp;флиса.
	      <br>
	      Сделает уютными не&nbsp;только домашние посиделки, но&nbsp;и&nbsp;ночь в&nbsp;аэропорту.
	      <br>
	      У&nbsp;каждого индивидуальный номер до&nbsp;10&nbsp;знаков
	    </p>
	    <p class="item-details">
	      Материал: Флис<br>
	      Размер: 200x140 см
	    </p>
	    <p class="item-price">
	      3 000 ₽ <a href="#buy">Купить</a>
	    </p>
	  </div>
	</article>

	<div class="stripes">
	  <div class="stripe" style="
	    transform: rotate(-1deg);
	    ">
	  </div>
	</div>
      </section>

      <div class="announcement">
	До конца предзаказа осталось
	<span class="countdown">
	  00:00:00:00
	</span>
      </div>

      <iframe id="buy" src="https://docs.google.com/forms/d/e/1FAIpQLSdoGebYUv4BbrSJydwOmt-mDzQrZQetvjOpMdnqh31CJfIxBg/viewform?embedded=true" width="640" height="1792" frameborder="0" marginheight="0" marginwidth="0">Загрузка…</iframe>
    </main>

    <div class="stripes">
      <div class="stripe" style="
	transform: rotate(0deg);
	">
      </div>
    </div>

    <script>
    const deadline = new Date('2024-09-19T12:00:00+05:00')
    const countdownEls = document.querySelectorAll('.countdown')

    const getDiffString = (deadline) => {
      const now = new Date()
      const diff = deadline - now

      const ddhhmmss = [
	((diff) / (1000 * 60 * 60 * 24)),
	((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),
	((diff % (1000 * 60 * 60)) / (1000 * 60)),
	((diff % (1000 * 60)) / 1000),
	((diff % (1000)) / 10),
      ]

      return ddhhmmss
	.map((x) => Math.trunc(x))
	.map((x) => String(x).padStart(2, 0))
	.join(':')
    }

    const updateCountdown = () => {
      const diffString = getDiffString(deadline)
      countdownEls.forEach((x) => x.innerText = diffString)
    }

    updateCountdown()
    setInterval(updateCountdown, 49)
    </script>
    <script>
    document.querySelectorAll('.item-images').forEach((slider) => {
      let isDown = false
      let startX
      let scrollLeft

      slider.addEventListener('mousedown', (e) => {
	isDown = true
	slider.classList.add('active')
	startX = e.pageX - slider.offsetLeft
	scrollLeft = slider.scrollLeft
      })
      slider.addEventListener('mouseleave', () => {
	isDown = false
	slider.classList.remove('active')
      })
      slider.addEventListener('mouseup', () => {
	isDown = false
	slider.classList.remove('active')
      })
      slider.addEventListener('mousemove', (e) => {
	if(!isDown) return
	e.preventDefault()
	const x = e.pageX - slider.offsetLeft
	const walk = (x - startX) // * 1 //scroll-fast
	slider.scrollLeft = scrollLeft - walk
      })
    })
    </script>
    <script>
    if('virtualKeyboard' in navigator) {
      navigator.virtualKeyboard.overlaysContent = true;
    }
    </script>
  </body>
</html>
